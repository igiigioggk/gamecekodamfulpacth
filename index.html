<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Khodam Checker Viral</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">

<style>
body{
 margin:0;font-family:Poppins;
 background:#111;color:#fff;
 text-align:center;overflow:hidden
}
.screen{display:none;min-height:100vh;padding-top:70px}
.active{display:block}

.box{
 background:rgba(0,0,0,.7);
 width:90%;max-width:360px;
 margin:auto;padding:30px;
 border-radius:22px;
 backdrop-filter:blur(10px)
}

input{
 width:90%;padding:12px;
 border-radius:12px;border:none
}

button{
 padding:12px 26px;
 border:none;border-radius:14px;
 background:#ff004c;color:#fff;
 font-size:16px;margin:6px;
 cursor:pointer;
 transition:opacity .3s ease,transform .2s ease
}
button.secondary{background:#ff004c}
button.danger{background:#800}

button:disabled{
 opacity:0.45;
 transform:scale(0.97);
 cursor:not-allowed
}

/* EFFECT */
#redOverlay{
 position:fixed;inset:0;
 background:rgba(255,0,0,.35);
 opacity:0;pointer-events:none
}
.legendActive{animation:redPulse .8s infinite}
.epicActive{animation:epicGlow 1s infinite}
.insaneBg{
 background:linear-gradient(120deg,#ff004c,#ffae00,#00ffae,#0066ff,#b300ff);
 background-size:400%;
 animation:rainbowBg 3s linear infinite
}

@keyframes redPulse{
 0%{opacity:0}50%{opacity:1}100%{opacity:0}
}
@keyframes epicGlow{
 0%{box-shadow:0 0 10px #d47cff}
 50%{box-shadow:0 0 45px #d47cff}
 100%{box-shadow:0 0 10px #d47cff}
}
@keyframes rainbowBg{
 0%{background-position:0%}
 100%{background-position:400%}
}

.insaneText{
 font-weight:900;
 background:linear-gradient(90deg,red,orange,yellow,lime,cyan,blue,violet);
 background-size:400%;
 -webkit-background-clip:text;
 -webkit-text-fill-color:transparent;
 animation:rainbowBg 2s linear infinite
}

/* HISTORY */
#historyBox{
 display:none;position:fixed;inset:0;
 background:rgba(0,0,0,.85);
 backdrop-filter:blur(8px)
}
#historyContent{
 background:#111;width:90%;
 max-width:360px;
 margin:60px auto;
 padding:20px;border-radius:20px;
 text-align:left;font-size:13px
}
</style>
</head>

<body>
<div id="redOverlay"></div>

<!-- HOME -->
<div class="screen active" id="home">
<h1>ğŸ”® KHODAM CHECKER ğŸ”®</h1>
<button onclick="go('game')">â–¶ï¸ MULAI GAME</button><br>
<button onclick="go('info')">ğŸ“¢ INFO KHODAM</button>
</div>

<!-- INFO -->
<div class="screen" id="info">
<div class="box">
<h2>ğŸ“œ INFO KHODAM</h2>
<div>âšª BIASA : <span id="countBiasa"></span> (80%)</div>
<div>ğŸŸ£ EPIC : <span id="countEpic"></span> (14%)</div>
<div>ğŸ”´ LEGENDARIS : <span id="countLegend"></span> (5%)</div>
<div>â— INSANE : <span id="countInsane"></span> (1%)</div>
<button class="secondary" onclick="go('home')">â¬… Kembali</button>
</div>
</div>

<!-- GAME -->
<div class="screen" id="game">
<div class="box" id="box">
<input id="nama" placeholder="Nama kamu"><br>
<button id="btn" onclick="cek()">Cek Khodam</button>
<button class="secondary" onclick="toggleHistory()">ğŸ“œ History / Koleksi</button>
<button class="secondary" onclick="go('resetScreen')">ğŸ”„ Reset Data</button>
<button class="secondary" onclick="go('home')">â¬… Kembali ke Menu</button>
<div id="hasil"></div>
</div>
</div>

<!-- RESET -->
<div class="screen" id="resetScreen">
<div class="box">
<h2>âš ï¸ RESET DATA</h2>
<p style="font-size:14px;opacity:.85">
Semua koleksi & history akan dihapus.
</p>
<button class="danger" onclick="confirmReset()">ğŸ”¥ YA, RESET</button>
<button class="secondary" onclick="go('game')">â¬… Kembali</button>
</div>
</div>

<!-- HISTORY -->
<div id="historyBox">
<div id="historyContent">
<h3>ğŸ“¦ KOLEKSI KHODAM</h3>
<div id="historyList"></div>
<button class="secondary" onclick="toggleHistory()" style="width:100%">â¬… Kembali</button>
</div>
</div>

<script>
function go(id){
 document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
 document.getElementById(id).classList.add('active');
}

/* DATA */
const insane=[
 "Cewek Jepang ğŸ‡¯ğŸ‡µ",
 "Davina Karamoy ğŸ«¦",
 "Kakak CEO ğŸ’²",
 "Batu Giok Naga Suci ğŸ²",
 "Tikus Kantor ğŸ€",
 "Anak Ketua DPR ğŸ’µ",
 "Fisik Saitama One Punch Man ğŸ‘Š"
];

const legend=[
 "Nyi Roro Kidul ğŸŒŠ",
 "Leak Bali ğŸ”¥",
 "Banaspati Api ğŸ”¥",
 "Genderuwo Hitam",
 "Jin Ifrit Merah ğŸ‘¹",
 "Raja Alas Gaib ğŸŒ³"
];

const epic=[
 "Ksatria Kegelapan ğŸ¥¶",
 "Albert Einstein ğŸ˜²",
 "Sapu Emak ğŸ§¹",
 "Nenek Penyayang ğŸ‘µ",
 "Pacar ğŸ’•",
 "Harimau Jawa ğŸ¯",
 "Harimau Sumatera ğŸ¯",
 "Laki-laki India ğŸ‡®ğŸ‡³"
];

const biasa=[
 "Sendok Dapur ğŸ¥„",
 "Pocong Imut ğŸ©·",
 "Milk Tea Jumbo ğŸ§Š",
 "Wewe Gombal ğŸ‘€",
 "Sinterklas ğŸ…",
 "Penjaga Warung â˜•",
 "Penjaga Gerbang Sekolah ğŸ«",
 "Tuyul ğŸ‘¶",
 "Seblak Presto ğŸ´",
 "Bekicot Magetan ğŸŒ",
 "Jepit Jemuran ğŸ“",
 "Anak Singa ğŸ¦",
 "Paman Berkacamata ğŸ¥¸",
 "Kosong tapi Kuat Mental ğŸ’ªğŸ—¿",
 "Panci Gosong ğŸ³",
 "Dompet Tipis ğŸ’¸",
 "Mantan Baik Tidak Mau Balikan ğŸ¥²",
 "Tikus Kos ğŸ­",

 /* TAMBAHAN BARU */
 "Ular Pemakan Orang ğŸ‘¦",
 "Alarm Subuh Tapi Dimatikan â°",
 "Galon Kos Kosong ğŸ§´",
 "Kopi Sachet Kebanyakan Gula â˜•"
];
 

countInsane.textContent=insane.length;
countLegend.textContent=legend.length;
countEpic.textContent=epic.length;
countBiasa.textContent=biasa.length;

let collection=JSON.parse(localStorage.getItem("khodamCollection"))||
{insane:[],legend:[],epic:[],biasa:[]};

function saveAll(){
 localStorage.setItem("khodamCollection",JSON.stringify(collection));
 historyList.innerHTML=`
 <b>â— INSANE</b><br>${collection.insane.join("<br>")||"-"}<br><br>
 <b>ğŸ”´ LEGENDARIS</b><br>${collection.legend.join("<br>")||"-"}<br><br>
 <b>ğŸŸ£ EPIC</b><br>${collection.epic.join("<br>")||"-"}<br><br>
 <b>âšª KHODAM BIASA</b><br>${collection.biasa.join("<br>")||"-"}
 `;
}
saveAll();

function toggleHistory(){
 historyBox.style.display =
 historyBox.style.display==="block"?"none":"block";
}

function confirmReset(){
 localStorage.clear();
 location.reload();
}

function clearEffects(){
 box.classList.remove("epicActive");
 redOverlay.classList.remove("legendActive");
 document.body.classList.remove("insaneBg");
}

function pickUnique(arr,type){
 let a=arr.filter(k=>!collection[type].includes(k));
 if(!a.length) return null;
 return a[Math.floor(Math.random()*a.length)];
}

function cek(){
 if(!nama.value.trim()) return;
 btn.disabled=true;
 btn.textContent="â³ Mengecek...";
 clearEffects();

 let r=Math.random()*100,khodam=null,label="",type="";
 if(r<=1){
 
  type="insane";label="â— INSANE";
  document.body.classList.add("insaneBg");
  khodam=pickUnique(insane,type);
 }
 else if(r<=6){
  type="legend";label="ğŸ”´ LEGENDARIS";
  redOverlay.classList.add("legendActive");
  khodam=pickUnique(legend,type);
  setTimeout(()=>redOverlay.classList.remove("legendActive"),3000);
 }
 else if(r<=20){
  type="epic";label="ğŸŸ£ EPIC";
  box.classList.add("epicActive");
  khodam=pickUnique(epic,type);
  setTimeout(()=>box.classList.remove("epicActive"),3000);
 }
 else{
  type="biasa";label="âšª KHODAM BIASA";
  khodam=pickUnique(biasa,type);
 }

 /* POP-UP JIKA KOLEKSI KATEGORI HABIS */
 if(!khodam){
  let ask = confirm(
   "ğŸ‰ Semua khodam "+type+" sudah terkumpul!\n\n"+
   "Apakah kamu ingin RESET data dan mulai dari awal?"
  );
  if(ask){
   localStorage.clear();
   location.reload();
  }else{
   hasil.innerHTML="ğŸ† Koleksi "+type+" sudah LENGKAP!";
   btn.disabled=false;
   btn.textContent="Cek Khodam";
  }
  return;
 }

 collection[type].push(khodam);
 saveAll();
 hasil.innerHTML=`<div class="${type==='insane'?'insaneText':''}">
 ${label}<br>${khodam}</div>`;

 setTimeout(()=>{
  btn.disabled=false;
  btn.textContent="Cek Khodam";
 },3000);
}
</script>
</body>
</html>